## Secretary 小秘书

在工作的时候，最舒服的是 —— 不用工作。当然，做自己喜欢的事理论上比不用做事要来的有趣一点。所以这里只谈真正在工作的时候，无论是你愿意的还是你不愿意的。当事件比较多的时候，总希望有个秘书，可以帮忙做提醒工作。自己只需要安心工作，她总是能定时提醒，不像很多 todo 工具要 `输入 > 选择 > 确定`，一句话就搞定，比如「提醒我下午 4 点钟和网站技术部有一个会议」。公司没有那么多钱可以给每个人请一个秘书，那么，能不能实现一个自然语言识别器，给自己/大家做一个小秘书呢？当然。

### 一、事件的形式

分解日常中我们需要秘书做的事，从语言表述上来说，通常会有两种：

1. REMINDER：`提醒我` `下午 4 点钟` `和网站技术部有一个会议`
 
   ```(task/todo/reminder/remind me to) [due] [reminder name]```
  
2. EVENT：`统计一下年度旅行参加的人数`，在 `周四早上9点之前` 给我一个答复

  ```[event name] at [location] [due date/time/period] [alert] ```
  
一般来说 REMINDER 都是一时的提醒，像闹钟；EVENT 则是一件实现的需要有时间段去做的事情，比如说在 `周四早上9点之前` 这样的一个时间段。而如果能做到 `9:00am` 给个 alert 就更好了。
  
### 二、实现的重点和难点

上面是大概的实现规则。不过重点还在于细节。上面的做法是参考了 Fantastical 的使用方法，只是英文的实现，而我发现了 Calendar.app 的实现更绝，可以非常准确地判断我的自然语言输入。其实对于我们来说，也不是说一定要非常智能，而是 **有一个明确的规则（1）** 让用户有规可循（也就是保证本身正确运行），再之才是 **智能解析（2）** 这样的高级功能。而实现这两个点，主要有两个重点：

1. 关键词：todo / reminder / reminder / task / 提醒

  关键词可以采用与位置配合匹配方式，也可以加上 `@` `#` `/` `!` `*` 这样的符号做分界匹配。
  
2. 时间格式：the next day / 明天 / 明早 9 点

  日期的格式有非常多，前期可以配合 monent.js 提供的格式 [#Format](http://momentjs.com/docs/#/displaying/format/)
  
而难点则是时间和事件的正解，理论上匹配的结果应该如下：

```js
{
  title: '做点什么事'
  type: 'REMINDER' || 'EVENT',
  start_date: Date || null,
  deadline: Date || null,
  assign: '指派给谁'
}
```
### 三、终极的目标：

1. 这个秘书能够很好理解我的语言，至少能理解上面说到的规则
2. 她不会忘记提醒我（电脑只要有电，似乎比人肉的好）





